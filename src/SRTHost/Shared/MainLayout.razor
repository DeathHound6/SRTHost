@using MudBlazor;
@inherits LayoutComponentBase

<MudThemeProvider @bind-IsDarkMode="@isDarkMode" Theme="theme" />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout Class="mud-height-full">
        <MudAppBar>
            <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@((e) => SetOpen())" />
            <MudSpacer />
            <MudSwitch @bind-Checked="@isDarkMode" Color="Color.Primary" Class="ma-4" T="bool" Label="Toggle Light/Dark Mode" />
        </MudAppBar>
        <MudDrawer Class="mud-height-full" @bind-Open="@open">
                <NavMenu />
            </MudDrawer>
        <MudMainContent Class="mud-height-full">
            @Body
        </MudMainContent>
</MudLayout>

@code {
    bool open = true;

    void SetOpen()
    {
        open = !open;
    }

    private MudTheme theme = new MudTheme()
        {
            Palette = new PaletteLight()
            {
                Primary = Colors.Shades.White,
                Secondary = Colors.DeepPurple.Lighten1,
                Dark = Colors.Shades.White,
                Background = Colors.DeepPurple.Lighten5,
                AppbarBackground = Colors.DeepPurple.Darken1,
                DrawerBackground = Colors.DeepPurple.Darken1,
                DrawerText = Colors.Shades.White,
            },
            PaletteDark = new PaletteDark()
            {
                Primary = Colors.DeepPurple.Lighten1,
                Secondary = Colors.DeepPurple.Lighten1,
                Dark = Colors.Grey.Darken3,
                Background = Colors.Grey.Darken3,
                AppbarBackground = Colors.Grey.Darken4,
                DrawerBackground = Colors.Grey.Darken4,
                DrawerText = Colors.Shades.White,
            },
        };
    private bool isDarkMode;
}